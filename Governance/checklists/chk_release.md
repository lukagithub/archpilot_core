# 发布检查清单

**文档版本**: v1.0.0  
**最后更新**: 2026-02-01  
**适用范围**: 版本发布前的质量检查

> 本清单定义了版本发布前必须完成的检查项。

---

## 1. 前置条件检查

### 1.1 环境准备

- [ ] Git 仓库状态干净（无未提交的更改）
- [ ] 当前在 main 分支
- [ ] 有推送权限
- [ ] 依赖环境已准备（如 Docker、Python 等）

### 1.2 规则文档

- [ ] `Governance/GOVERNANCE_OVERVIEW.md` 存在
- [ ] `Governance/ARCHITECTURE_DEFINITION.md` 存在
- [ ] `Governance/rules/rules_release.md` 存在
- [ ] `Governance/rules/rules_tag.md` 存在

---

## 2. 质量评分检查

### 2.1 评分执行

- [ ] 已执行质量评分脚本
- [ ] 评分结果已记录

### 2.2 评分阈值

| 维度 | 最低要求 | 实际得分 | 状态 |
|------|----------|----------|------|
| D1: 文档完整性 | ≥3.0 | | ☐ |
| D2: 追溯关系 | ≥3.0 | | ☐ |
| D3: 功能实现 | ≥3.0 | | ☐ |
| D4: 测试验证 | ≥3.0 | | ☐ |
| D5: 代码质量 | ≥3.0 | | ☐ |
| **加权总分** | ≥3.0 | | ☐ |

### 2.3 发布决策

| 总分范围 | 评级 | 允许的发布类型 |
|----------|------|----------------|
| ≥4.5 | 优秀 | 正式版本 ✅ |
| ≥4.0 | 良好 | 正式版本 ✅ |
| ≥3.0 | 及格 | Beta/RC ⚠️ |
| <3.0 | 不及格 | 禁止发布 ❌ |

---

## 3. 文档检查

### 3.1 版本文件

- [ ] `VERSION` 文件已更新
- [ ] 版本号符合语义化版本规范
- [ ] 版本号与发布类型匹配

### 3.2 发布文档

- [ ] ReleaseNote 已生成
- [ ] 发布报告已生成
- [ ] 文档内容完整准确

### 3.3 追溯完整性

- [ ] L1-L5 追溯链无断裂
- [ ] 所有新增文档有正确的追溯关系

---

## 4. 代码检查

### 4.1 代码质量

- [ ] 无编译错误
- [ ] 无严重静态分析问题
- [ ] 代码已提交

### 4.2 测试状态

- [ ] 单元测试通过
- [ ] 集成测试通过（如适用）
- [ ] 测试覆盖率达标

---

## 5. Git Tag 检查

### 5.1 Tag 内容

- [ ] 标题行 ≤80 字符
- [ ] 包含主要变更（2-5 行）
- [ ] 包含关键特性（3-8 项）
- [ ] Beta/Alpha 包含限制说明
- [ ] 内容与 ReleaseNote 一致

### 5.2 Tag 格式

```
Release v{VERSION}: {简短标题}

🚀 主要变更
- {变更1}
- {变更2}

📦 关键特性:
- {特性1}
- {特性2}

🧪 测试状态:
- 单元测试: {覆盖率}%

✅ 状态: {发布状态}
```

---

## 6. 发布执行检查

### 6.1 发布前

- [ ] 所有检查项已通过
- [ ] 评分达到发布阈值
- [ ] 文档准备完成

### 6.2 发布执行

- [ ] Tag 已创建
- [ ] Tag 已推送
- [ ] 发布报告已存档

### 6.3 发布后

- [ ] 验证 Tag 存在
- [ ] 验证文档可访问
- [ ] 通知相关方

---

## 7. 检查清单使用说明

### 7.1 检查流程

```
1. 开始发布
   ↓
2. 完成前置条件检查
   ↓
3. 执行质量评分
   ↓
4. 验证评分达标
   ↓
5. 完成文档和代码检查
   ↓
6. 准备 Tag 内容
   ↓
7. 执行发布
   ↓
8. 发布后验证
```

### 7.2 阻断条件

以下情况必须阻断发布：

- ❌ 加权总分 < 3.0
- ❌ 任意维度得分 < 2.0
- ❌ 追溯链严重断裂
- ❌ 存在未通过的关键测试
- ❌ Tag 内容不符合规范

### 7.3 豁免流程

特殊情况需要豁免检查项时：

1. 记录豁免原因
2. 获取负责人批准
3. 在发布报告中说明
4. 制定后续修复计划

---

## 8. 关联文档

- [发布管理规则](../rules/rules_release.md)
- [Git Tag 规范](../rules/rules_tag.md)
- [开发检查清单](chk_dev.md)
- [AI 发布自动化指南](../../Guides/AI_Release_Automation_Guide.md)

